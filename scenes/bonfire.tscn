[gd_scene load_steps=14 format=3 uid="uid://cxd4fpcgw2rxu"]

[ext_resource type="PackedScene" uid="uid://br0qhcycsbjax" path="res://textures/Bonfire.fbx" id="1_nyacu"]
[ext_resource type="Script" path="res://scripts/bonfire.gd" id="1_qgjai"]
[ext_resource type="Gradient" path="res://textures/Fire.tres" id="2_3bq17"]
[ext_resource type="AudioStream" uid="uid://ciwte17iqk7ba" path="res://sound/fire.wav" id="2_vts2v"]
[ext_resource type="Texture2D" uid="uid://dpgq0dnog6u63" path="res://textures/Smoke30Frames_0.png" id="3_1if5k"]
[ext_resource type="Script" path="res://scripts/omni_light_3d.gd" id="5_3c3cg"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_pvw6y"]
gradient = ExtResource("2_3bq17")
width = 2048

[sub_resource type="Curve" id="Curve_jxegu"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.137476, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_gsjf6"]
width = 2048
curve = SubResource("Curve_jxegu")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7mflr"]
emission_shape = 1
emission_sphere_radius = 0.1
angle_min = 1.00001
angle_max = 360.0
direction = Vector3(0, 1, 0)
spread = 0.0
initial_velocity_min = 0.6
initial_velocity_max = 0.6
angular_velocity_min = 39.0
angular_velocity_max = 41.0
gravity = Vector3(0, 0, 0)
linear_accel_min = 3.0
linear_accel_max = 5.0
scale_min = 0.2
scale_max = 1.8
scale_curve = SubResource("CurveTexture_gsjf6")
color_ramp = SubResource("GradientTexture1D_pvw6y")
hue_variation_min = -2.23517e-08
hue_variation_max = -2.23517e-08
anim_speed_min = 1.0
anim_speed_max = 1.0
anim_offset_max = 1.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l5nvp"]
transparency = 1
blend_mode = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("3_1if5k")
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 6
particles_anim_v_frames = 5
particles_anim_loop = true

[sub_resource type="QuadMesh" id="QuadMesh_ne24f"]
material = SubResource("StandardMaterial3D_l5nvp")

[sub_resource type="SphereShape3D" id="SphereShape3D_kmqyo"]
radius = 0.110571

[node name="Bonfire" type="Node3D"]
script = ExtResource("1_qgjai")

[node name="Bonfire" parent="." instance=ExtResource("1_nyacu")]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0)

[node name="GPUParticles3D" type="GPUParticles3D" parent="Bonfire"]
amount = 200
lifetime = 0.6
randomness = 1.0
fixed_fps = 60
visibility_aabb = AABB(-1.09345, -1.07259, -1.09749, 2.18977, 2.72846, 2.19448)
draw_order = 3
process_material = SubResource("ParticleProcessMaterial_7mflr")
draw_pass_1 = SubResource("QuadMesh_ne24f")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Bonfire"]
stream = ExtResource("2_vts2v")
volume_db = 4.0
autoplay = true

[node name="OmniLight3D" type="OmniLight3D" parent="Bonfire"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0.229768, 0)
light_color = Color(0.962502, 0.684266, 0.557499, 1)
light_energy = 3.0
omni_range = 50.0
script = ExtResource("5_3c3cg")

[node name="Area3D" type="Area3D" parent="Bonfire"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bonfire/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0867117, 0)
shape = SubResource("SphereShape3D_kmqyo")

[connection signal="body_entered" from="Bonfire/Area3D" to="." method="_on_area_3d_body_entered"]
